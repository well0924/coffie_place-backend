# Coffies Vol.02

### 프로젝트 소개

 기존에 Mybatis로 만들었던 프로젝트를 jpa로 컨버팅을 한 프로젝트입니다. 

### 프로젝트 목표

- Mybatis에서 Jpa로 컨버팅
- Mockito와 Junit을 사용해서 테스트 코드작성
- redis를 사용해서 캐싱,세션 클러스터링,
- 처음부터 배포까지 구축
- nginx를 사용해서 무중단 배포
- Jmeter를 사용해서 api의 성능 테스트
- 분산서버에서 세션클러스터링을 구축해보기
- Prometheus를 사용해서 로그 수집

### 제작인원
1인

### 제작기간

23.03.21~ing

### vol.2.0

- 기본적인 api 완료(5.12)


- 테스트 코드 작성(5.12)


- 부가적인 기능 및 코드 리팩토링(5.13~)
  - 회원 위치에서 가까운 가게 5곳 마이페이지에서 확인
  - 어드민 페이지 최근에 작성한 글,댓글
  - 이메일 인증기능 비동기처리


### 제작기술

#### Backend

- java 17
- spring boot 2.7.2
- spring Data Jpa 2.7.5
- spring security 2.7.6
- redis 2.7.9
- query dsl 5.0.0

#### DB

- mariaDB

#### Frontend

- theymleaf 3.0.15
- jQuery 3.6.0
- bootstrap 4.6.0
- fontawesome 5.15.3

#### TEST

- Mockito
- JUnit5

#### DOCS

-swagger 3.0.0

#### Infra

- github Action
- Aws S3
- Aws RDBS
- Aws EC2
- Aws Route

### Vol.01에서 변경점

- **Mybatis가 아닌 Jpa로 변경.**
- **깃 커밋시 컨벤션을 사용**
- **redis를 활용한 캐시 사용**
- **기능을 추가할 때 테스트 코드를 작성**
- github action을 활용해서 ci를 구축

### Git Convention

- feat : 기능 추가
- test : 테스트 코드 작성 및 수정
- refactor : 리팩토링(기능 개선 및 수정)
- docs : 코드 주석추가 삭제,문서 변경

### Feature List

- 회원
  - 회원 가입
  - 회원 정보 수정
  - 회원 탈퇴
  - 관리자 목록
  - 회원 아이디 자동완성검색
  - 회원 페이징 및 정렬 검색


- 자유게시판
  - 게시판 crud
  - 페이징 및 정렬,검색
  - 첨부파일 업로드,다운로드
  - SummerNote 사용
  - 게시판 댓글 작성,삭제
  - 게시판 좋아요 기능


- 공지게시판
  - 게시판 crud
  - 페이징 및 정렬,검색
  - 첨부파일 업로드,다운로드
  - SummerNote 사용
  - 게시글 고정


- 가게
  - 가게 목록
  - 가게 조회
  - 가게 등록
  - 가게 수정
  - 가게 삭제
  - 가게 위시리스트 추가,삭제
  - 가게 댓글 작성,삭제
  - 가게 댓글 좋아요
  - 가게 검색어 자동완성


- 마이 페이지
  - 내 정보(회원) 수정
  - 회원 탈퇴
  - 위시리스트 목록 조회
  - 내가 작성한 게시글,댓글 보기
  - 좋아요를 누른 게시글 목록 확인
  - 회원 위치에서 가까운 가게 출력


- 메인 페이지
  - 댓글 평점이 높은 가게 Top5 
  - 자유게시판 목록
  - 공지게시판 목록

### 아키텍쳐

### ERD

### Api 기능(명세서)

**Swagger 문서로 Api기능을 문서화**

- 스웨거 주소

### Git 컨벤션

feat : 새로운 기능을 추가하는 경우

refactor : 프로덕션 코드 리팩토링

test : 테스트 추가,테스트 리팩토링

docs : 주석을 추가,수정 및 스웨거 코드 변경

### 문제 해결 및 배웠던 부분

- **Jpa N+1 문제해결하기.**

- **QueryDsl 동적정렬 구현하기.**

- **네이티브 쿼리 작성**

- **redis 캐시 적용**
